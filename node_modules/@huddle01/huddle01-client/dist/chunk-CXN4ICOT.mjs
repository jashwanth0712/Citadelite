import {
  logger_default
} from "./chunk-IBGL6YYT.mjs";

// src/urlFactory.ts
var __prod__ = process.env.NODE_ENV === "production";
var hosts = {
  "gamma.huddle01.com": "media-gamma.huddle01.com",
  "messari.huddle01.com": "ms-us01.huddle01.com",
  "beta.huddle01.com": "media-beta.huddle01.com",
  "alpha.huddle01.com": "media-alpha.huddle01.com",
  "koinx.huddle01.com": "ms03.huddle01.com",
  "app.huddle01.com": "ms02.huddle01.com",
  default: __prod__ ? "ms02.huddle01.com" : "localhost:4443"
};
function getProtooUrl({
  roomId,
  peerId,
  apiKey
}) {
  const hostname = window.location.hostname;
  let mediaServerHostname = hosts[hostname] || hosts.default;
  logger_default.info("getProtooUrl() | apikey)", { apiKey });
  if (apiKey) {
    logger_default.info("getProtooUrl() |got api key");
    mediaServerHostname = "sdk.huddle01.com";
  }
  let portooUrl = `${mediaServerHostname}/?roomId=${roomId}&peerId=${peerId}`;
  if (__prod__ || apiKey) {
    portooUrl = `wss://${portooUrl}`;
  } else
    portooUrl = `ws://${portooUrl}`;
  logger_default.info("getProtooUrl() | protoo url", { portooUrl });
  if (apiKey)
    portooUrl = `${portooUrl}&apiKey=${apiKey}`;
  return portooUrl;
}

export {
  getProtooUrl
};
